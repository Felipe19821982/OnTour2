{% extends "demo/base.html" %}
{% block content %}
<div class="container mt-5">
    <h2 class="text-center text-primary mb-4">Comunicaci√≥n con el Ejecutivo</h2>
    
    <div class="row">
        <!-- Formulario para enviar mensajes -->
        <div class="col-md-6">
            <h4 class="text-dark">Enviar Mensaje</h4>
            <form method="post" class="shadow p-4 rounded bg-light">
                {% csrf_token %}
                <div class="form-group">
                    <label for="asunto" class="font-weight-bold text-dark">Asunto</label>
                    <input type="text" class="form-control" id="asunto" name="asunto" placeholder="Escribe el asunto" required>
                </div>
                <div class="form-group">
                    <label for="mensaje" class="font-weight-bold text-dark">Mensaje</label>
                    <textarea class="form-control" id="mensaje" name="mensaje" rows="5" placeholder="Escribe tu mensaje o solicitud" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Enviar</button>
            </form>
        </div>

        <!-- Historial de mensajes -->
        <div class="col-md-6">
            <h4 class="text-dark">Historial de Mensajes</h4>
            <div class="list-group shadow p-4 rounded bg-light">
                {% if mensajes %}
                    {% for mensaje in mensajes %}
                        <div class="list-group-item mb-3">
                            <h5 class="mb-1 text-dark">{{ mensaje.asunto }}</h5>
                            <p class="mb-1 text-dark"><strong>Mensaje:</strong> {{ mensaje.contenido }}</p>
                            <small class="text-muted">Enviado el {{ mensaje.fecha }}</small>
                        </div>
                    {% endfor %}
                {% else %}
                    <p class="text-muted">No hay mensajes enviados.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
