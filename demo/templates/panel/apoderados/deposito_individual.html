{% extends "demo/base.html" %}
{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Registrar Depósito</h2>
    {% if mensaje %}
    <div class="alert alert-danger" role="alert">
        {{ mensaje }}
    </div>
    {% endif %}
        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Nombre del apoderado" required>
            </div>
            <div class="form-group">
                <label for="email">Correo Electrónico</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="Correo electrónico" required>
            </div>
            <div class="form-group">
                <label for="password">Contraseña</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="Contraseña" required>
            </div>
            <div class="form-group">
                <label for="colegio">Selecciona un Colegio</label>
                <select class="form-control" id="colegio" name="colegio">
                    <option value="">-- Selecciona un colegio --</option>
                    {% for colegio in colegios %}
                    <option value="{{ colegio.id }}">{{ colegio.nombre }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="nuevo_colegio">O agrega un nuevo Colegio</label>
                <input type="text" class="form-control" id="nuevo_colegio" name="nuevo_colegio" placeholder="Nuevo colegio (opcional)">
            </div>
            <div class="form-group">
                <label for="curso">Selecciona un Curso</label>
                <select class="form-control" id="curso" name="curso">
                    <option value="">-- Selecciona un curso --</option>
                    {% for curso in cursos %}
                    <option value="{{ curso.id }}">{{ curso.nombre }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="alumno_1">Pupilo 1</label>
                <input type="text" class="form-control" id="alumno_1" name="alumno_1" placeholder="Nombre del pupilo">
            </div>
            <div class="form-group">
                <label for="alumno_2">Pupilo 2</label>
                <input type="text" class="form-control" id="alumno_2" name="alumno_2" placeholder="Nombre del pupilo (opcional)">
            </div>
            <div class="form-group">
                <label for="alumno_3">Pupilo 3</label>
                <input type="text" class="form-control" id="alumno_3" name="alumno_3" placeholder="Nombre del pupilo (opcional)">
            </div>
            <div class="form-group">
                <label for="alumno_4">Pupilo 4</label>
                <input type="text" class="form-control" id="alumno_4" name="alumno_4" placeholder="Nombre del pupilo (opcional)">
            </div>
            <button type="submit" class="btn btn-primary">Registrar</button>
        </form>
    
</div>

<!-- JavaScript para actualizar el curso automáticamente -->
<script>
    function actualizarCurso() {
        const alumnoSelect = document.getElementById('alumno');
        const selectedOption = alumnoSelect.options[alumnoSelect.selectedIndex];
        const curso = selectedOption.getAttribute('data-curso');
        document.getElementById('curso').value = curso || '';
    }
</script>
{% endblock %}
